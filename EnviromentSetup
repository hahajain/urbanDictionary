/*This file describes the steps to setup the environment on AWS for the project*/

AWS

1.The project is setup on AWS EC2 instances. This requires creation of an Amazon AWS account and the launching of t2.micro 
instances with ubuntu/linux operating system.

2.Open ports for TCP, HTTPS, HTTP, SSH on the amazon ec2 instances. Also allow access for ips that access the server.

3.Setup the SSH access keys on the system to login remotely.

MongoDB

4.The primary database is MongoDB. To set up mongoDB, use the following command.
        sudo yum install -y mongodb-org
  To specify the log file directory, data directory paths, edit systemLog.path and storage.dbPath settings in /etc/mongod.conf
  To initialise the mongoDB server,
        sudo service mongod start

5. To load data into the mongoDB server, 
    mongoimport --db *UrbanDictionary * --collection *dictionary* --type json --file *urbanDictonary.json*
    
Elasticsearch

6. Before setting up Elasticsearch, ensure that Java8 or above is installed on the server. Setup Elasticsearch on Amazon EC2 instance using   
    sudo apt-get install elasticsearch

7. Edit elasticsearch.yml in /etc/elasticsearch/elasticsearch.yml to include 
    network.host: "localhost"
    http.port: 9200

8. Start elastic search using 
    sudo service elasticsearch start
    
9. Create custom analyser in Elasticsearch using synonymFilterfile. After which the data can be uploaded and indexed for queries.

Kafka

Kafka uses ZooKeeper. So it is necessary to starta ZooKeeper server before running Kafka. It also requires Java to be installed prior.
> bin/zookeeper-server-start.sh config/zookeeper.properties

Insert the following environment variable to adjust the JVM heap size to handle memory limitations
export KAFKA_HEAP_OPTS="-Xmx500M -Xms500M"

Start Kafka
> bin/kafka-server-start.sh config/server.properties

Create topics
> bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 4 --topic raw_documents
> bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 4 --topic enriched_documents

